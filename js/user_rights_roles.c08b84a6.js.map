{"version":3,"file":"js/user_rights_roles.c08b84a6.js","mappings":"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","sources":["webpack://shop_admin/./src/components/Breadcrumb.vue?4dec","webpack://shop_admin/src/components/Breadcrumb.vue","webpack://shop_admin/./src/components/Breadcrumb.vue?c99f","webpack://shop_admin/./src/components/Breadcrumb.vue","webpack://shop_admin/./src/components/power/Rights.vue?bb83","webpack://shop_admin/src/components/power/Rights.vue","webpack://shop_admin/./src/components/power/Rights.vue?249c","webpack://shop_admin/./src/components/power/Rights.vue","webpack://shop_admin/./src/components/power/Roles.vue?0384","webpack://shop_admin/src/components/power/Roles.vue","webpack://shop_admin/./src/components/power/Roles.vue?942a","webpack://shop_admin/./src/components/power/Roles.vue","webpack://shop_admin/./src/components/user/Users.vue?fc80","webpack://shop_admin/src/components/user/Users.vue","webpack://shop_admin/./src/components/user/Users.vue?4b7b","webpack://shop_admin/./src/components/user/Users.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.name1))]),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.name2))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n    <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n    <el-breadcrumb-item>{{ name1 }}</el-breadcrumb-item>\n    <el-breadcrumb-item>{{ name2 }}</el-breadcrumb-item>\n  </el-breadcrumb>\n</template>\n\n<script>\nexport default {\n  name: 'BreadCrumb',\n  props: {\n    name1: String,\n    name2: String\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Breadcrumb.vue?vue&type=template&id=6ba2576e&\"\nimport script from \"./Breadcrumb.vue?vue&type=script&lang=js&\"\nexport * from \"./Breadcrumb.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Breadcrumb',{attrs:{\"name1\":\"权限管理\",\"name2\":\"权限列表\"}}),_c('el-card',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.rightsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"authName\",\"label\":\"权限名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"path\",\"label\":\"路徑\"}}),_c('el-table-column',{attrs:{\"prop\":\"level\",\"label\":\"等級权限\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[(scope.row.level === '0')?_c('el-tag',[_vm._v(\"一級\")]):_vm._e(),(scope.row.level === '1')?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"二級\")]):_vm._e(),(scope.row.level === '2')?_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"三級\")]):_vm._e()],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 麵包屑 -->\n    <Breadcrumb name1=\"权限管理\" name2=\"权限列表\" />\n\n    <!-- 卡片 -->\n    <el-card>\n      <el-table :data=\"rightsList\" style=\"width: 100%\" border stripe>\n        <el-table-column type=\"index\"> </el-table-column>\n        <el-table-column prop=\"authName\" label=\"权限名称\"> </el-table-column>\n        <el-table-column prop=\"path\" label=\"路徑\"> </el-table-column>\n        <el-table-column prop=\"level\" label=\"等級权限\">\n          <template slot-scope=\"scope\">\n            <div>\n              <el-tag v-if=\"scope.row.level === '0'\">一級</el-tag>\n              <el-tag v-if=\"scope.row.level === '1'\" type=\"success\"\n                >二級</el-tag\n              >\n              <el-tag v-if=\"scope.row.level === '2'\" type=\"warning\"\n                >三級</el-tag\n              >\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from '../Breadcrumb.vue'\nexport default {\n  name: 'RightsPage',\n  components: { Breadcrumb },\n  data() {\n    return {\n      type: 'list',\n      rightsList: []\n    }\n  },\n  methods: {\n    async getRightsList() {\n      const { data: res } = await this.$http.get(`rights/${this.type}`)\n      if (res.meta.status !== 200) {\n        return this.$$message.error('获取权限列表失败')\n      } else {\n        this.rightsList = res.data\n      }\n    }\n  },\n  created() {\n    this.getRightsList()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rights.vue?vue&type=template&id=6d630dc0&\"\nimport script from \"./Rights.vue?vue&type=script&lang=js&\"\nexport * from \"./Rights.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Breadcrumb',{attrs:{\"name1\":\"权限管理\",\"name2\":\"角色列表\"}}),_c('el-card',[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"添加角色\")])],1),_c('el-table',{attrs:{\"data\":_vm.rolesList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.children),function(item1,key1){return _c('el-row',{key:key1,class:[key1 === 0 ? '' : 'border-top', 'flex-center']},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',[_vm._v(_vm._s(item1.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":19}},_vm._l((item1.children),function(item2,key2){return _c('el-row',{key:key2,class:[key2 === 0 ? '' : 'border-top', 'flex-center']},[_c('el-col',{attrs:{\"span\":6}},[_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(item2.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":18}},_vm._l((item2.children),function(item3,key3){return _c('el-tag',{key:key3,attrs:{\"span\":14,\"type\":\"warning\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row, item3.id)}}},[_vm._v(_vm._s(item3.authName))])}),1)],1)}),1)],1)})}}])}),_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"角色名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"roleDesc\",\"label\":\"角色描述\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"400px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editDialog(scope.row.id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeRole(scope.row.id)}}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.setRightDialog(scope.row)}}},[_vm._v(\"分配权限\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加角色\",\"width\":\"50%\",\"visible\":_vm.addDialogVisible},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClose}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"label-width\":\"80px\",\"rules\":_vm.addFormRules}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{model:{value:(_vm.addForm.roleName),callback:function ($$v) {_vm.$set(_vm.addForm, \"roleName\", $$v)},expression:\"addForm.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}},[_c('el-input',{model:{value:(_vm.addForm.roleDesc),callback:function ($$v) {_vm.$set(_vm.addForm, \"roleDesc\", $$v)},expression:\"addForm.roleDesc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRoles}},[_vm._v(\"确定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改角色\",\"width\":\"50%\",\"visible\":_vm.editDialogVisible},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClose}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"label-width\":\"80px\",\"rules\":_vm.addFormRules}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{model:{value:(_vm.editForm.roleName),callback:function ($$v) {_vm.$set(_vm.editForm, \"roleName\", $$v)},expression:\"editForm.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}},[_c('el-input',{model:{value:(_vm.editForm.roleDesc),callback:function ($$v) {_vm.$set(_vm.editForm, \"roleDesc\", $$v)},expression:\"editForm.roleDesc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editRoles}},[_vm._v(\"确定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改角色权限\",\"width\":\"50%\",\"visible\":_vm.setRightVisible},on:{\"update:visible\":function($event){_vm.setRightVisible=$event},\"close\":_vm.setRightClose}},[_c('el-tree',{ref:\"treeRef\",attrs:{\"data\":_vm.rightsList,\"props\":_vm.treeProps,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\",\"default-checked-keys\":_vm.defaultKeys}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRightVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.allotRights()}}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 麵包屑 -->\n    <Breadcrumb name1=\"权限管理\" name2=\"角色列表\" />\n\n    <!-- 卡片 -->\n    <el-card>\n      <el-row>\n        <el-button type=\"primary\" @click=\"addDialogVisible = true\"\n          >添加角色</el-button\n        >\n      </el-row>\n\n      <el-table :data=\"rolesList\" border stripe>\n        <!-- 展開列 -->\n        <el-table-column type=\"expand\">\n          <template slot-scope=\"scope\">\n            <el-row\n              v-for=\"(item1, key1) in scope.row.children\"\n              :key=\"key1\"\n              :class=\"[key1 === 0 ? '' : 'border-top', 'flex-center']\"\n            >\n              <el-col :span=\"5\">\n                <el-tag>{{ item1.authName }}</el-tag>\n                <i class=\"el-icon-caret-right\"></i>\n              </el-col>\n              <el-col :span=\"19\">\n                <el-row\n                  v-for=\"(item2, key2) in item1.children\"\n                  :key=\"key2\"\n                  :class=\"[key2 === 0 ? '' : 'border-top', 'flex-center']\"\n                >\n                  <el-col :span=\"6\">\n                    <el-tag type=\"success\">{{ item2.authName }}</el-tag>\n                    <i class=\"el-icon-caret-right\"></i>\n                  </el-col>\n                  <el-col :span=\"18\">\n                    <el-tag\n                      :span=\"14\"\n                      v-for=\"(item3, key3) in item2.children\"\n                      :key=\"key3\"\n                      type=\"warning\"\n                      closable\n                      @close=\"removeRightById(scope.row, item3.id)\"\n                      >{{ item3.authName }}</el-tag\n                    >\n                  </el-col>\n                </el-row>\n              </el-col>\n            </el-row>\n          </template>\n        </el-table-column>\n        <!-- 索引列 -->\n        <el-table-column type=\"index\"></el-table-column>\n        <el-table-column prop=\"roleName\" label=\"角色名称\"></el-table-column>\n        <el-table-column prop=\"roleDesc\" label=\"角色描述\"></el-table-column>\n        <el-table-column label=\"操作\" width=\"400px\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"primary\"\n              icon=\"el-icon-edit\"\n              size=\"mini\"\n              @click=\"editDialog(scope.row.id)\"\n              >编辑</el-button\n            >\n            <el-button\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              size=\"mini\"\n              @click=\"removeRole(scope.row.id)\"\n              >删除</el-button\n            >\n            <el-button\n              type=\"warning\"\n              icon=\"el-icon-setting\"\n              size=\"mini\"\n              @click=\"setRightDialog(scope.row)\"\n              >分配权限</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n\n    <!-- 添加角色对话框 -->\n    <el-dialog\n      title=\"添加角色\"\n      width=\"50%\"\n      :visible.sync=\"addDialogVisible\"\n      @close=\"addDialogClose\"\n    >\n      <el-form\n        ref=\"addFormRef\"\n        :model=\"addForm\"\n        label-width=\"80px\"\n        :rules=\"addFormRules\"\n      >\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\n          <el-input v-model=\"addForm.roleName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"角色描述\" prop=\"roleDesc\">\n          <el-input v-model=\"addForm.roleDesc\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"addRoles\">确定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 修改角色對話框 -->\n    <el-dialog\n      title=\"修改角色\"\n      width=\"50%\"\n      :visible.sync=\"editDialogVisible\"\n      @close=\"editDialogClose\"\n    >\n      <el-form\n        ref=\"editFormRef\"\n        :model=\"editForm\"\n        label-width=\"80px\"\n        :rules=\"addFormRules\"\n      >\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\n          <el-input v-model=\"editForm.roleName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"角色描述\" prop=\"roleDesc\">\n          <el-input v-model=\"editForm.roleDesc\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"editRoles\">确定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 修改权限對話框 -->\n    <el-dialog\n      title=\"修改角色权限\"\n      width=\"50%\"\n      :visible.sync=\"setRightVisible\"\n      @close=\"setRightClose\"\n    >\n      <!-- 樹形 -->\n      <el-tree\n        :data=\"rightsList\"\n        :props=\"treeProps\"\n        show-checkbox\n        node-key=\"id\"\n        default-expand-all\n        :default-checked-keys=\"defaultKeys\"\n        ref=\"treeRef\"\n      ></el-tree>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"setRightVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"allotRights()\">确定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from '../Breadcrumb.vue'\nexport default {\n  name: 'RolesPage',\n  components: { Breadcrumb },\n  data() {\n    return {\n      rolesList: [],\n      addDialogVisible: false,\n      addForm: { roleName: '', roleDesc: '' },\n      addFormRules: {\n        roleName: [\n          {\n            required: true,\n            message: '请输入角色名称',\n            trigger: 'blur'\n          }\n        ],\n        roleDesc: [\n          {\n            required: true,\n            message: '请输入角色描述',\n            trigger: 'blur'\n          }\n        ]\n      },\n      editDialogVisible: false,\n      editForm: { roleName: '', roleDesc: '' },\n      setRightVisible: false,\n      rightsList: [],\n      // 樹形控件的屬性\n      treeProps: {\n        children: 'children',\n        label: 'authName'\n      },\n      // 默認選取的id值\n      defaultKeys: [],\n      rightsDialogId: ''\n    }\n  },\n  methods: {\n    // 獲取角色列表\n    async getRolesList() {\n      const { data: res } = await this.$http.get('roles')\n      if (res.meta.status !== 200) {\n        return this.$message.danger('获取角色列表失败')\n      } else {\n        this.rolesList = res.data\n      }\n    },\n    // 監聽添加對話框關閉\n    addDialogClose() {\n      this.$refs.addFormRef.resetFields()\n    },\n    // 添加角色\n    async addRoles() {\n      this.$refs.addFormRef.validate(async (valid) => {\n        if (!valid) return\n        const { data: res } = await this.$http.post('/roles', this.addForm)\n        if (res.meta.status !== 201) {\n          return this.$message.error('添加角色失败')\n        } else {\n          this.addDialogVisible = false\n          this.getRolesList()\n          this.$message.success('添加角色成功')\n        }\n      })\n    },\n    // 打開編輯對話框\n    async editDialog(id) {\n      this.editDialogVisible = true\n      const { data: res } = await this.$http.get(`roles/${id}`)\n      if (res.meta.status !== 200) {\n        return this.$message.danger('获取角色失败')\n      } else {\n        this.editForm = res.data\n      }\n    },\n    // 監聽修改對話框關閉\n    editDialogClose() {\n      this.$refs.editFormRef.resetFields()\n    },\n    // 修改角色\n    editRoles() {\n      this.$refs.editFormRef.validate(async (valid) => {\n        if (!valid) return\n        const { data: res } = await this.$http.put(\n          `roles/${this.editForm.roleId}`,\n          {\n            roleName: this.editForm.roleName,\n            roleDesc: this.editForm.roleDesc\n          }\n        )\n        if (res.meta.status !== 200) {\n          return this.$message.error('修改角色失败')\n        } else {\n          this.editDialogVisible = false\n          this.getRolesList()\n          this.$message.success('添加角色成功')\n        }\n      })\n    },\n    // 删除\n    async removeRole(id) {\n      const confitmResult = await this.$confirm('确認删除该角色吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch((err) => err)\n      if (confitmResult !== 'confirm') {\n        return this.$message.info('已取消删除')\n      }\n      const { data: res } = await this.$http.delete(`roles/${id}`)\n      if (res.meta.status !== 200) {\n        return this.$message.error('删除角色失败')\n      } else {\n        this.getRolesList()\n        this.$message.success('删除角色成功')\n      }\n    },\n    // 根據id删除权限\n    async removeRightById(role, rightId) {\n      const confirmResult = await this.$confirm('确认删除該权限嗎？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch((err) => err)\n      if (confirmResult !== 'confirm') {\n        return this.$message.info('已取消删除')\n      }\n      const { data: res } = await this.$http.delete(\n        `roles/${role.id}/rights/${rightId}`\n      )\n      if (res.meta.status !== 200) {\n        return this.$message.error('删除权限失败')\n      } else {\n        // 這樣會整個重新渲染，展開列會被關閉\n        // this.getRolesList()\n        role.children = res.data\n        this.$message.success('删除权限成功')\n      }\n    },\n    // 打開分配权限對話框\n    async setRightDialog(role) {\n      this.rightsDialogId = role.id\n      const { data: res } = await this.$http.get('rights/tree')\n      if (res.meta.status !== 200) {\n        return this.$message.error('获取权限數據失败')\n      } else {\n        this.rightsList = res.data\n      }\n      this.getLeafKeys(role, this.defaultKeys)\n      this.setRightVisible = true\n    },\n    // 通過遞歸获取角色下所有三級权限的id，並保存到defaultKeys數組中\n    getLeafKeys(role, arr) {\n      // 當前節點不包含children，是三級節點\n      if (!role.children) {\n        return arr.push(role.id)\n      }\n      role.children.forEach((item) => {\n        this.getLeafKeys(item, arr)\n      })\n    },\n    // 監聽分配权限對話框關閉\n    setRightClose() {\n      this.defaultKeys = []\n    },\n    // 分配权限\n    async allotRights() {\n      const keys = [\n        ...this.$refs.treeRef.getCheckedKeys(),\n        ...this.$refs.treeRef.getHalfCheckedKeys()\n      ]\n\n      const string = keys.join(',')\n      const { data: res } = await this.$http.post(\n        `roles/${this.rightsDialogId}/rights`,\n        { rids: string }\n      )\n      if (res.meta.status !== 200) {\n        return this.$message.error('更新权限失败')\n      } else {\n        this.getRolesList()\n        this.setRightVisible = false\n        this.$message.success('更新权限成功')\n      }\n    }\n  },\n  created() {\n    this.getRolesList()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.border-top {\n  border-top: 1px solid #eee;\n}\n.flex-center {\n  display: flex;\n  align-items: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Roles.vue?vue&type=template&id=9e0f1a50&scoped=true&\"\nimport script from \"./Roles.vue?vue&type=script&lang=js&\"\nexport * from \"./Roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Roles.vue?vue&type=style&index=0&id=9e0f1a50&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e0f1a50\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Breadcrumb',{attrs:{\"name1\":\"用戶管理\",\"name2\":\"用戶列表\"}}),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getUserList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUserList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"新增用戶\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"姓名\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"手机号\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_c('el-table-column',{attrs:{\"prop\":\"role_name\",\"label\":\"角色\"}}),_c('el-table-column',{attrs:{\"prop\":\"mg_state\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.handleChangeState(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editDialog(scope.row.id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUser(scope.row.id)}}}),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.setRole(scope.row)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[1, 2, 5, 10],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加用戶\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClose}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"label-width\":\"80px\",\"rules\":_vm.addFormRules}},_vm._l((_vm.addFormLabel),function(item){return _c('el-form-item',{key:item.name,attrs:{\"label\":item.label,\"prop\":item.name}},[_c('el-input',{attrs:{\"type\":item.type},model:{value:(_vm.addForm[item.name]),callback:function ($$v) {_vm.$set(_vm.addForm, item.name, $$v)},expression:\"addForm[item.name]\"}})],1)}),1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用戶\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClose}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"label-width\":\"80px\",\"rules\":_vm.editFormRules}},[_c('el-form-item',{attrs:{\"label\":\"用戶名\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.username),callback:function ($$v) {_vm.$set(_vm.editForm, \"username\", $$v)},expression:\"editForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUser}},[_vm._v(\"确定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.setRoleDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRoleDialogVisible=$event},\"close\":_vm.setRoleDialogClose}},[_c('div',[_c('p',[_vm._v(\"当前的用户: \"+_vm._s(_vm.userInfo.username))]),_c('p',[_vm._v(\"当前的角色: \"+_vm._s(_vm.userInfo.role_name))]),_c('p',[_vm._v(\" 当前新角色: \"),_c('el-select',{attrs:{\"placeholder\":\"请选择新角色\"},model:{value:(_vm.newRoleId),callback:function ($$v) {_vm.newRoleId=$$v},expression:\"newRoleId\"}},_vm._l((_vm.rolesList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.roleName,\"value\":item.id}})}),1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRoleDialogVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRole}},[_vm._v(\"确定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 麵包屑 -->\n    <Breadcrumb name1=\"用戶管理\" name2=\"用戶列表\" />\n\n    <!-- 卡片 -->\n    <el-card>\n      <!-- 搜尋框 -->\n      <el-row :gutter=\"20\">\n        <el-col :span=\"7\">\n          <el-input\n            placeholder=\"请输入内容\"\n            v-model=\"queryInfo.query\"\n            @clear=\"getUserList\"\n            clearable\n          >\n            <el-button\n              slot=\"append\"\n              icon=\"el-icon-search\"\n              @click=\"getUserList\"\n            ></el-button>\n          </el-input>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\"\n            >新增用戶</el-button\n          >\n        </el-col>\n      </el-row>\n\n      <!-- 表單 -->\n      <el-table :data=\"userList\" style=\"width: 100%\" border stripe>\n        <el-table-column type=\"index\" label=\"#\"></el-table-column>\n        <el-table-column prop=\"username\" label=\"姓名\"> </el-table-column>\n        <el-table-column prop=\"mobile\" label=\"手机号\"> </el-table-column>\n        <el-table-column prop=\"email\" label=\"邮箱\"> </el-table-column>\n        <el-table-column prop=\"role_name\" label=\"角色\"> </el-table-column>\n        <el-table-column prop=\"mg_state\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              v-model=\"scope.row.mg_state\"\n              @change=\"handleChangeState(scope.row)\"\n            >\n            </el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"300px\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"primary\"\n              icon=\"el-icon-edit\"\n              size=\"mini\"\n              @click=\"editDialog(scope.row.id)\"\n            ></el-button>\n            <el-button\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              size=\"mini\"\n              @click=\"removeUser(scope.row.id)\"\n            ></el-button>\n            <el-tooltip\n              effect=\"dark\"\n              content=\"分配角色\"\n              placement=\"top\"\n              :enterable=\"false\"\n            >\n              <el-button\n                type=\"warning\"\n                icon=\"el-icon-setting\"\n                size=\"mini\"\n                @click=\"setRole(scope.row)\"\n              ></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分頁 -->\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"queryInfo.pagenum\"\n        :page-sizes=\"[1, 2, 5, 10]\"\n        :page-size=\"queryInfo.pagesize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </el-card>\n\n    <!-- 添加用戶對話框 -->\n    <el-dialog\n      title=\"添加用戶\"\n      :visible.sync=\"addDialogVisible\"\n      width=\"50%\"\n      @close=\"addDialogClose\"\n    >\n      <el-form\n        ref=\"addFormRef\"\n        :model=\"addForm\"\n        label-width=\"80px\"\n        :rules=\"addFormRules\"\n      >\n        <el-form-item\n          v-for=\"item in addFormLabel\"\n          :key=\"item.name\"\n          :label=\"item.label\"\n          :prop=\"item.name\"\n        >\n          <el-input v-model=\"addForm[item.name]\" :type=\"item.type\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"addUser\">确定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 修改用戶對話框 -->\n    <el-dialog\n      title=\"修改用戶\"\n      :visible.sync=\"editDialogVisible\"\n      width=\"50%\"\n      @close=\"editDialogClose\"\n    >\n      <el-form\n        ref=\"editFormRef\"\n        :model=\"editForm\"\n        label-width=\"80px\"\n        :rules=\"editFormRules\"\n      >\n        <el-form-item label=\"用戶名\">\n          <el-input v-model=\"editForm.username\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"editForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"mobile\">\n          <el-input v-model=\"editForm.mobile\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"editUser\">确定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 分配属性對話框 -->\n    <el-dialog\n      title=\"分配角色\"\n      :visible.sync=\"setRoleDialogVisible\"\n      width=\"50%\"\n      @close=\"setRoleDialogClose\"\n    >\n      <div>\n        <p>当前的用户: {{ userInfo.username }}</p>\n        <p>当前的角色: {{ userInfo.role_name }}</p>\n        <p>\n          当前新角色:\n          <el-select v-model=\"newRoleId\" placeholder=\"请选择新角色\">\n            <el-option\n              v-for=\"item in rolesList\"\n              :key=\"item.id\"\n              :label=\"item.roleName\"\n              :value=\"item.id\"\n            ></el-option>\n          </el-select>\n        </p>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"setRoleDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"saveRole\">确定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from '../Breadcrumb.vue'\nexport default {\n  name: 'UserPage',\n  components: { Breadcrumb },\n  data() {\n    const checkEmail = (rule, value, cb) => {\n      const reg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\\.[a-zA-Z0-9_-]{2,4})$/\n      if (reg.test(value)) {\n        return cb()\n      } else {\n        cb(new Error('请输入合法的邮箱'))\n      }\n    }\n    const checkMobile = (rule, value, cb) => {\n      const reg =\n        /^(13[0-9]|14[01456789]|15[0-3,5-9]|16[2567]|17[0-8]|18[0-9]|19[0-3,5-9])\\d{8}$/\n      if (reg.test(value)) {\n        return cb()\n      } else {\n        cb(new Error('请输入合法的手机号'))\n      }\n    }\n    return {\n      // 获取用戶列表參數對象\n      queryInfo: {\n        query: '',\n        pagenum: 1,\n        pagesize: 5\n      },\n      userList: [],\n      total: 0,\n      addDialogVisible: false,\n      addForm: {\n        username: 'test',\n        password: '1234',\n        email: 'test@test.test',\n        mobile: '18388888888'\n      },\n      addFormRules: {\n        username: [\n          { required: true, message: '请输入用戶名', trigger: 'blur' },\n          { min: 4, max: 10, message: '长度在 4 到 10 個字符', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 4, max: 10, message: '长度在 4 到 10 個字符', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { validator: checkEmail, trigger: 'blur' }\n        ],\n        mobile: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          {\n            validator: checkMobile,\n            trigger: 'blur'\n          }\n        ]\n      },\n      addFormLabel: [\n        {\n          label: '用戶名',\n          name: 'username',\n          type: 'text'\n        },\n        {\n          label: '密码',\n          name: 'password',\n          type: 'password'\n        },\n        {\n          label: '邮箱',\n          name: 'email',\n          type: 'email'\n        },\n        {\n          label: '手机号',\n          name: 'mobile',\n          type: 'tel'\n        }\n      ],\n      editDialogVisible: false,\n      editForm: {\n        id: '',\n        username: '',\n        email: '',\n        mobile: ''\n      },\n      editFormRules: {\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { validator: checkEmail, trigger: 'blur' }\n        ],\n        mobile: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          {\n            validator: checkMobile,\n            trigger: 'blur'\n          }\n        ]\n      },\n      setRoleDialogVisible: false,\n      userInfo: {},\n      newRoleId: '',\n      rolesList: []\n    }\n  },\n  methods: {\n    // 获取用户列表\n    async getUserList() {\n      const { data: res } = await this.$http.get('users', {\n        params: this.queryInfo\n      })\n      if (res.meta.status !== 200) {\n        return this.$$message.error('获取用戶列表失败')\n      } else {\n        this.userList = res.data.users\n        this.total = res.data.total\n      }\n    },\n    // 監聽pagesize改變的事件\n    handleSizeChange(newSize) {\n      this.queryInfo.pagesize = newSize\n      this.getUserList()\n    },\n    // 監聽頁碼值改變的事件\n    handleCurrentChange(newPage) {\n      this.queryInfo.pagenum = newPage\n      this.getUserList()\n    },\n    // 改變用戶状态\n    async handleChangeState(user) {\n      const { data: res } = await this.$http.put(\n        `users/${user.id}/state/${user.mg_state}`\n      )\n      if (res.meta.status !== 200) {\n        user.mg_state = !user.mg_state\n        return this.$message.error('改变用戶状态失败！')\n      } else {\n        this.$message.success('改变用戶状态成功！')\n      }\n    },\n    // 監聽添加用戶對話框關閉\n    addDialogClose() {\n      this.$refs.addFormRef.resetFields()\n    },\n    // 添加新用戶\n    addUser() {\n      this.$refs.addFormRef.validate(async (valid) => {\n        if (!valid) return\n        const { data: res } = await this.$http.post('users', this.addForm)\n        if (res.meta.status !== 201) return this.$message.error('添加用戶失败')\n        this.addDialogVisible = false\n        this.getUserList()\n        this.$message.success('添加用戶成功')\n      })\n    },\n    // 展示修改對話框\n    async editDialog(id) {\n      const { data: res } = await this.$http.get(`users/${id}`)\n      if (res.meta.status !== 200) {\n        return this.$message.error('查询用戶信息失败')\n      } else {\n        this.editDialogVisible = true\n        this.editForm = res.data\n      }\n    },\n    // 監聽修改用戶對話框關閉\n    editDialogClose() {\n      this.$refs.editFormRef.resetFields()\n      this.editForm = {}\n    },\n    // 修改用戶信息並提交\n    editUser() {\n      this.$refs.editFormRef.validate(async (valid) => {\n        if (!valid) return\n        const { data: res } = await this.$http.put(\n          `users/${this.editForm.id}`,\n          { email: this.editForm.email, mobile: this.editForm.mobile }\n        )\n        if (res.meta.status !== 200) return this.$message.error('修改用戶失败')\n        this.editDialogVisible = false\n        this.getUserList()\n        this.$message.success('修改用戶成功')\n      })\n    },\n    // 確認删除 對話框\n    async removeUser(id) {\n      const confirmResult = await this.$confirm('确认删除該用戶嗎？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch((err) => err)\n      if (confirmResult !== 'confirm') {\n        return this.$message.info('已取消删除')\n      }\n      const { data: res } = await this.$http.delete(`users/${id}`)\n      if (res.meta.status !== 200) return this.$message.error('删除用戶失败')\n      this.getUserList()\n      this.$message.success('删除用戶成功')\n    },\n    // 分配角色 對話框\n    async setRole(user) {\n      this.userInfo = user\n      this.setRoleDialogVisible = true\n      const { data: res } = await this.$http.get('roles')\n      if (res.meta.status !== 200) {\n        return this.$message.error('获取角色列表失败')\n      } else {\n        this.rolesList = res.data\n      }\n    },\n    // 点击按钮分配角色\n    async saveRole() {\n      if (!this.newRoleId) {\n        return this.$message.error('请选择要分配的角色')\n      }\n      const { data: res } = await this.$http.put(\n        `users/${this.userInfo.id}/role\n`,\n        { rid: this.newRoleId }\n      )\n      if (res.meta.status !== 200) {\n        return this.$message.error('分配角色权限失败')\n      } else {\n        this.getUserList()\n        this.setRoleDialogVisible = false\n        this.$message.success('更新角色权限成功')\n      }\n    },\n    // 监听分配角色对话框关闭\n    setRoleDialogClose() {\n      this.newRoleId = ''\n      this.userInfo = {}\n    }\n  },\n  created() {\n    this.getUserList()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=1784db9d&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","_s","name1","name2","staticRenderFns","name","props","String","component","staticStyle","rightsList","scopedSlots","_u","key","fn","scope","row","level","_e","components","Breadcrumb","data","type","methods","async","res","meta","status","$$message","error","created","getRightsList","on","$event","addDialogVisible","rolesList","_l","item1","key1","class","authName","staticClass","item2","key2","item3","key3","removeRightById","id","editDialog","removeRole","setRightDialog","addDialogClose","ref","addForm","addFormRules","model","value","callback","$$v","$set","expression","slot","addRoles","editDialogVisible","editDialogClose","editForm","editRoles","setRightVisible","setRightClose","treeProps","defaultKeys","allotRights","roleName","roleDesc","required","message","trigger","children","label","rightsDialogId","$message","danger","$refs","addFormRef","resetFields","validate","valid","getRolesList","success","editFormRef","confitmResult","$confirm","confirmButtonText","cancelButtonText","catch","err","info","role","rightId","confirmResult","getLeafKeys","arr","push","forEach","item","keys","string","join","rids","getUserList","queryInfo","userList","handleChangeState","removeUser","setRole","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addUser","editFormRules","editUser","setRoleDialogVisible","setRoleDialogClose","userInfo","username","role_name","newRoleId","saveRole","checkEmail","rule","cb","reg","test","Error","checkMobile","query","password","email","mobile","min","max","validator","addFormLabel","params","users","newSize","newPage","user","mg_state","rid"],"sourceRoot":""}